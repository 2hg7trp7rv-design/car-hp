# CBJ Design QA Checklist（Definition of Done）

目的：見た目の“好み”ではなく、品質を測れるチェックで担保する。

使い方

・ページ追加/大きめのUI改修のたびに、このチェックを満たす
・P0が落ちたら差し戻し（雰囲気以前に未完成）

---

## P0（必須：落ちたら公開不可）

1) コントラスト

□ 通常テキストは 4.5:1 以上（WCAG AA）
□ 大きい文字/太字は 3:1 以上
□ 写真上の文字は“暗幕/局所暗化/配置固定”のいずれかで破綻しない

2) タップ領域

□ 重要操作は 44×44 相当（`.cb-tap`）
□ リスト状のリンク、チップ、×、矢印、フィルタ等も同様

3) フォーカス

□ `Tab` で全操作が可能（メニューを開く/閉じる、リンク移動、フォーム操作）
□ focus-visible が“見える”
□ focus がオーバーレイや固定UIに完全に隠れない（scroll-padding / 配置）

4) 欠損

□ 404/空表示/無限ローディングが無い
□ APIエラー時にフォールバック（文言/再試行/戻る）がある

---

## P1（全ページ共通：品質の土台）

### 読み物（GUIDE / COLUMN / 詳細ページ）

□ 本文の行長が上限に収まっている（`cb-prose` / `cb-prose-block`）
□ 冒頭2ブロックに要点がある（結論/要点/次の行動）
□ 見出しは先頭2語で意味が通る（スキャン前提）
□ 箇条書きは短く、型が揃っている

### 階層（Visual Hierarchy）

□ 1画面で最も目立つ要素が1つに決まっている（CTA/タイトル/写真）
□ セクション分割は余白とラベルで一貫（曖昧な区切り無し）
□ 同じ役割の部品は同じ見た目（ボタン、カード、タグ、見出し）

### 余白（Spacing）

□ 余白が8pxスケールに丸められている（4/8/12/16/…）
□ グループ内は近く、グループ間は確実に離れている（近接の原則）

### 状態（States）

□ hover/active/focus-visible/disabled/loading が揃っている
□ disabled は“押せない”が分かり、文字コントラストも確保

---

## P2（ページ別：摩擦の削減）

### HOME

□ ARCHIVEカードの情報順が固定（ラベル→タイトル→定義→メタ→Enter）
□ Enter導線の見た目が全カードで同じ

### CARS

□ フィルタの現在地が分かる（適用中条件の表示/解除）
□ VIEW切替、FILTER開閉、ページ送りのタップ領域が規格内

### HERITAGE

□ 深いスクロールでも年代ジャンプ/戻りが容易
□ IN PREPARATION は押せそうに見えない

### NEWS

□ カードのメタ情報順（メーカー/カテゴリ/ソース/日付）が固定
□ フィルタ適用中が常に見える

---

## 手動テスト手順（最低限）

1) iPhoneサイズで、片手操作を想定して主要導線を一周（HOME→メニュー→各ARCHIVE→戻る）
2) `Tab` キーでメニューを開閉し、リンク移動できるか（フォーカスが見えるか）
3) 長文ページで「要点→目次→章ジャンプ→戻る」を繰り返し、迷い/破綻がないか
4) フィルタ/比較などツール系で、エラー/空表示が起きたときの逃げ道があるか
